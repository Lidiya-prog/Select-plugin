{"version":3,"sources":["select/select.js","index.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["getTemplate","data","placeholder","selectedId","text","items","map","item","cls","id","value","join","Select","selector","options","$el","document","querySelector","event","type","target","dataset","toggle","select","close","classList","contains","find","$value","textContent","current","querySelectorAll","forEach","el","remove","add","onSelected","isOpen","open","$arrow","removeEventListener","clickHandler","innerHTML","bind","addEventListener","console","log","window","s","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","length","module"],"mappings":"AEAA,ACAA,IDAIiD,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AFFJ,IEEIA,AFFEzC,IEEE,CAACW,CFFG,GAAG,EEEX,EFFetB,cAAJ,CAAW,SAAX,EAAsB;ACGnC,ACAC,AFFDV,EAAAA,CEAA,MDEO+C,IDFI,EAAE,GCEb,wBDHmC;ACIpC,ADFC;AEEAgB,AFDAhE,EECAgE,AFDAhE,IAAI,EAAE,CECC,AFAL,CEAMmE,IAAR,GAAeJ,IAAI,CAACI,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEP,AFDIvD,EECJuD,EFDIvD,EECA,AFDE,CECD+D,CFDG,CCEDrB,EDFL,MECF,CAAgBsB,GDClB,GAAwB,MCDtB,CAA6BR,OAA7B,EAAsCD,IAAI,CAACU,WAA3C;ADEA,ACDD,AFFchE,IAAAA,KAAK,EAAE;ACIpB,ADJE,GADI,EAEJ,CCGE;AACF,ACDJ,AFHMD,IEGFkE,AFHElE,EAAE,EAAE,ECIA,CDJN,GCIU2C,ACDA,GAAG,EDCP,EAAN,ACDJ;ADEG,ADLY1C,GCGb,CAEE,ADLWA,KAAK,ECKT2C,ADLW,GCKlB,EAAY;AACZ,ACFJ,AFJI,ADRJ,GCMQ,CDNFrD,CCSF,GCKIsD,CCFCsB,MDEM,AFdE,GEcC,ACFlB,AHZoB,CEcD,ECFE,GDEGvB,GAAG,AFdrBrD,CEcsBuD,KAAV,EAAiBC,GFdf,EEcF,CAAuB,AFdmB,+DEc1C,CAAd;ACDF,AFJI/C,ADTsD,ICStDA,EEIAkE,AFJE,ADTa1E,ECSX,EDTkD,CCSxD,KEIF,EAAgB,+DHbU,EAAgC;AEexD,ACDA,AFLWS,ADT6C,ICS7CA,EDTiBR,EEexBoD,CDNY,EAAE,ICMlB,EAAa,AFf2C;AEgBtD,ACDH,AFNC,ADTwD,GCMpD,EAIJ,CDVyCnD,OEgBhCsD,GFhB+C,OEgBrC,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD,ADPC7C,ADTJ,ICSIA,EAAE,ADTFL,ECSI,EDTA,CCSN,EDTSF,WAAH,aAAGA,WAAH,cAAGA,WAAH,GAAkB,0BAA1B;AEiBC,ACDDyE,AFPajE,ADRb,EGeAiE,EFPajE,EDRPL,GCQY,EAAE,ADRT,CGeD,EHfIJ,CGeD4E,GHfK,CAACvE,GAAL,CAAS,EGeA,CAAC,OHfAC,IAAD,CGea,CHfH;AGgB/B,AFRA,ADPA,GCGI,EAKJ,GEOIuE,AHfAtE,GAAG,EGeE,CHfC,EGeEQ,AHfZ,QGeoB,CAACe,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,ADTItB,IAAAA,EAAE,EAAE,CCSD,EDTL,CCSF;AACD,ACFG,AFRWC,ADPX,ICOWA,IDPPH,CGeC,AFRW,EAAE,CDPV,CGeCwE,AHfAtE,CGeC,CHfN,EGeS,CAAb,EAAgBsE,AHfA5E,CGeC,GAAG2E,KAAK,CAACE,AHf1B,EAA4B,IGe5B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,AFTF,ADNE3E,GCCE,EAMJ,CDPEA,IGeIyD,AHfA,GAAGtD,GGeG,CAACkD,AHfA,CAAC/C,KAAZ,IGeI,CAAkBoE,KAAK,CAACC,CAAD,CAAL,CAASX,IAA3B,MAAqCP,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AFTFtD,ADNAD,ICMAC,EAAE,ADNFD,EGeEuD,AFTE,CCWDN,AFjBA,ECML,CDNQ,MGeM,CDElB,ACFmBqB,CDECpB,EFjBd,CEiBN,CCFwB,CDEC,ACFAqB,CAAD,CAAN,CAAV;ADGN,ACFK,AFVQrE,ADLV,ICKUA,KCYN,ADZW,CCYV,CDZY,ICYPgD,GAAN,EAAWC,OAAX,CAAmB,gFAAnB,EAAqG,IAArG,IAA6G,GAApH;AACD,ACFI,AFXD,GANI,CAH6B;AAWnCvB,ADNE,ECMFA,UAXmC,sBAWxB7B,IAXwB,EAWlB,cDLaC,GAD5B,6CAC8DD,IAAI,CAAC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","file":"Plugin-select.e31bb0bc.js","sourceRoot":"..","sourcesContent":["const getTemplate = (data = [], placeholder, selectedId) => {\n  let text = placeholder ?? \"Plaсeholder по умолчанию\";\n  const items = data.map((item) => {\n    let cls = \"\";\n    if (item.id === selectedId) {\n      text = item.value;\n      cls = \"selected\";\n    }\n    return `\n      <li class=\"select__item ${cls}\" data-type=\"item\" data-id=\"${item.id}\">${item.value}</li>\n      `;\n  });\n  return `\n<div class=\"select__backdrop\" data-type=\"backdrop\"></div>\n<div class=\"select__input\" data-type=\"input\">\n  <span data-type=\"value\">${text}</span>\n  <i class=\"fa fa-chevron-down\" aria-hidden=\"true\" data-type=\"arrow\"></i>\n</div>\n<div class=\"select__dropdown\">\n  <ul class=\"select__list\">\n  ${items.join(\"\")}\n  </ul>\n</div>\n    `;\n};\n\nexport class Select {\n  constructor(selector, options) {\n    this.$el = document.querySelector(selector);\n    this.options = options;\n    this.selectedId = options.selectedId;\n    this.#render();\n    this.#setup();\n  }\n  #render() {\n    const { placeholder, data } = this.options;\n    this.$el.classList.add(\"select\");\n    this.$el.innerHTML = getTemplate(data, placeholder, this.selectedId);\n  }\n  #setup() {\n    this.clickHandler = this.clickHandler.bind(this);\n    this.$el.addEventListener(\"click\", this.clickHandler);\n    this.$arrow = this.$el.querySelector('[data-type=\"arrow\"]');\n    this.$value = this.$el.querySelector('[data-type=\"value\"]');\n  }\n  clickHandler(event) {\n    const { type } = event.target.dataset;\n    if (type === \"input\") {\n      this.toggle();\n    } else if (type === \"item\") {\n      const id = event.target.dataset.id;\n      this.select(id);\n    } else if (type === \"backdrop\") {\n      this.close();\n    }\n  }\n\n  get isOpen() {\n    return this.$el.classList.contains(\"open\");\n  }\n  get current() {\n    return this.options.data.find((item) => item.id === this.selectedId);\n  }\n\n  select(id) {\n    this.selectedId = id;\n    this.$value.textContent = this.current.value;\n    this.$el.querySelectorAll('[data-type=\"item\"]').forEach((el) => {\n      el.classList.remove(\"selected\");\n    });\n    this.$el.querySelector(`[data-id=\"${id}\"]`).classList.add(\"selected\");\n    this.options.onSelected ? this.options.onSelected(this.current) : null;\n    this.close();\n  }\n\n  toggle() {\n    this.isOpen ? this.close() : this.open();\n  }\n\n  open() {\n    this.$el.classList.add(\"open\");\n    this.$arrow.classList.remove(\"fa-chevron-down\");\n    this.$arrow.classList.add(\"fa-chevron-up\");\n  }\n\n  close() {\n    this.$el.classList.remove(\"open\");\n    this.$arrow.classList.add(\"fa-chevron-down\");\n    this.$arrow.classList.remove(\"fa-chevron-up\");\n  }\n\n  destroy() {\n    this.$el.removeEventListener(\"click\", this.clickHandler);\n    this.$el.innerHTML = \"\";\n  }\n}\n","import { Select } from \"./select/select.js\";\nimport \"./select/styles.scss\";\n\nconst select = new Select(\"#select\", {\n  placeholder: \"Выбери пожалуйста элемент\",\n  //   selectedId: \"4\",\n  data: [\n    { id: \"1\", value: \"React\" },\n    { id: \"2\", value: \"Angular\" },\n    { id: \"3\", value: \"Vue\" },\n    { id: \"4\", value: \"React Native\" },\n    { id: \"5\", value: \"Next\" },\n    { id: \"6\", value: \"Nest\" },\n  ],\n  onSelected(item) {\n    console.log(\"Selected Item\", item);\n  },\n});\n\nwindow.s = select;\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}